<launch>
    <arg name="workspace_name" default="staubli"/>
    <param name="cloud_topic" value="/filtered_pc" />

    <include file="$(find freenect_launch)/launch/freenect.launch">
        <arg name="depth_registration" value="true" />
        <arg name="bond" value="true" />
        <arg name="data_skip" value="5"/>
    </include>

    <!--<include file="$(find pc_filter)/launch/pc_filter.launch" /> -->

    <node pkg="pc_filter" name="pc_filter" type="server" respawn="true">
        <param name="x_min" type="double"  value="-0.2" />
        <param name="x_max" type="double"  value="0.23" />
        <param name="y_min" type="double"  value="-0.65" />
        <param name="y_max" type="double"  value="0.1" />
        <param name="z_min" type="double"  value="0.0" />
        <param name="z_max" type="double"  value="0.4" />
    </node>


    <node pkg="model_rec2" name="model_rec" type="ObjRecRANSACRun" />

      <param name="frame_id" type="string" value="/camera_rgb_optical_frame"/>
      <param name="grid0_size_x" type="int" value="7"/>
      <param name="grid0_size_y" type="int" value="4"/>
      <param name="board_type" value="chess"/>
      <param name="rect0_size_x" type="double" value="0.03"/>
      <param name="rect0_size_y" type="double" value="-0.03"/>
      <param name="type0" value="/world"/>
      <param name="~use_simple_tf" type="bool" value="true"/>
      <param name="message_throttle" type="int" value="10"/>

    <node pkg="checkerboard_detector" type="checkerboard_detector" name="checkerboard_detector" >
      <remap from="image" to="/camera/rgb/image_raw" />
      <remap from="camera_info" to="/camera/rgb/camera_info" />
    </node>

    <node pkg="checkerboard_detector" type="objectdetection_tf_publisher.py" name="checkerboard_tf_publisher" />


</launch>
